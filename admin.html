<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rafal Car Admin</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}.login-box{max-width:400px;margin:100px auto;background:#fff;padding:40px;border-radius:15px;box-shadow:0 10px 40px rgba(0,0,0,.3)}.admin-panel{max-width:1400px;margin:20px auto;background:#fff;border-radius:15px;display:none}.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:30px;border-radius:15px 15px 0 0;display:flex;justify-content:space-between;align-items:center}.tabs{display:flex;gap:10px;padding:20px;border-bottom:2px solid #eee;flex-wrap:wrap}.tab{padding:12px 24px;background:#f5f5f5;border:none;border-radius:8px;cursor:pointer;font-weight:600}.tab.active{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.content{padding:30px}.section{display:none}.section.active{display:block}.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:25px;border-radius:10px}.stat-number{font-size:36px;font-weight:700}table{width:100%;border-collapse:collapse;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.1)}th{background:#f8f9fa;padding:15px;text-align:left;font-weight:600}td{padding:15px;border-top:1px solid #eee}input,select,textarea{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;margin-bottom:15px;font-family:'Inter',sans-serif}button{padding:12px 24px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600}.btn-logout{background:rgba(255,255,255,.2)}.form-gate{background:#f8f9fa;padding:30px;border-radius:10px;margin-top:20px}
</style>
</head>
<body>
<div class="login-box" id="loginBox">
<h2 style="margin-bottom:30px;text-align:center">üöó Rafal Car Admin</h2>
<form onsubmit="login(event)">
<input type="email" placeholder="Email" value="admin@rafalcar.com" required>
<input type="password" id="pwd" placeholder="Password" required>
<button type="submit" style="width:100%">Login</button>
</form>
<p style="text-align:center;margin-top:15px;color:#999;font-size:13px">Password: RafalCar@admin#01</p>
</div>

<div class="admin-panel" id="adminPanel">
<div class="header">
<div>
<h1>Rafal Car Admin</h1>
<p style="opacity:.9">Management System</p>
</div>
<button class="btn-logout" onclick="logout()">Logout</button>
</div>

<div class="tabs">
<button class="tab active" onclick="showTab('dashboard')">üìä Dashboard</button>
<button class="tab" onclick="showTab('bookings')">üìã Bookings</button>
<button class="tab" onclick="showTab('sendform')">üì¨ Send Form</button>
<button class="tab" onclick="showTab('cars')">üöó Cars</button>
</div>

<div class="content">
<div class="section active" id="dashboard">
<h2 style="margin-bottom:20px">Dashboard</h2>
<div class="stats">
<div class="stat-card">
<div class="stat-number" id="totalBookings">0</div>
<div>Total Bookings</div>
</div>
<div class="stat-card" style="background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%)">
<div class="stat-number" id="pendingBookings">0</div>
<div>Pending</div>
</div>
<div class="stat-card" style="background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%)">
<div class="stat-number">16</div>
<div>Total Cars</div>
</div>
</div>
<table>
<thead><tr><th>Confirmation</th><th>Customer</th><th>Car</th><th>Date</th><th>Total</th></tr></thead>
<tbody id="bookingsList">
<tr><td colspan="5" style="text-align:center;padding:30px">Bookings will appear here</td></tr>
</tbody>
</table>
</div>

<div class="section" id="bookings">
<h2 style="margin-bottom:20px">All Bookings</h2>
<p>Email: <strong>rafal.carmed5@gmail.com</strong></p>
<table style="margin-top:20px">
<thead><tr><th>Conf#</th><th>Name</th><th>Email</th><th>Phone</th><th>Car</th><th>Dates</th><th>Total</th></tr></thead>
<tbody id="allBookingsList">
<tr><td colspan="7" style="text-align:center;padding:30px">No bookings yet</td></tr>
</tbody>
</table>
</div>

<div class="section" id="sendform">
<h2 style="margin-bottom:20px">Send Form from Admin</h2>
<div class="form-gate">
<form id="adminForm" onsubmit="sendForm(event)">
<div style="display:grid;grid-template-columns:1fr 1fr;gap:15px">
<input type="text" name="name" placeholder="Customer Name *" required>
<input type="email" name="email" placeholder="Email *" required>
<input type="tel" name="phone" placeholder="Phone *" required>
<select name="car" required>
<option value="">Select Car *</option>
<option>Hyundai Tucson - 500 MAD</option>
<option>Dacia Logan - 270 MAD</option>
<option>Mercedes S-Class - 4000 MAD</option>
<option>Range Rover Sport - 3500 MAD</option>
</select>
<input type="date" name="pickup" required>
<input type="date" name="return" required>
</div>
<textarea name="notes" placeholder="Notes" rows="3"></textarea>
<button type="submit">üìß Send to Email</button>
</form>
</div>
</div>

<div class="section" id="cars">
<h2 style="margin-bottom:20px">Cars Management</h2>
<div style="background:#f8f9fa;padding:30px;border-radius:10px">
<h3>All 16 Cars Available</h3>
<p style="margin-top:10px">Hyundai Tucson, Dacia Logan, Peugeot 208, Opel Corsa, Renault Clio, Hyundai Accent, Skoda Karoq, Cupra Formentor, Volkswagen Touareg, Mercedes CLA, Mercedes C-Class, Range Rover Evoque, Range Rover Velar, Range Rover Sport, Mercedes S-Class, Renault Express</p>
</div>
</div>
</div>
</div>

<script>
function login(e){
e.preventDefault();
const pwd=document.getElementById('pwd').value;
if(pwd==='RafalCar@admin#01'){
localStorage.setItem('rafalcar_admin','true');
document.getElementById('loginBox').style.display='none';
document.getElementById('adminPanel').style.display='block';
loadData()
}else{alert('Wrong password!')}
}

function logout(){
localStorage.removeItem('rafalcar_admin');
location.reload()
}

function showTab(tab){
document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
document.getElementById(tab).classList.add('active');
event.target.classList.add('active')
}

function loadData(){
const bookings=JSON.parse(localStorage.getItem('rafalcar_bookings')||'[]');
document.getElementById('totalBookings').textContent=bookings.length;
document.getElementById('pendingBookings').textContent=bookings.filter(b=>b.status==='pending').length;

if(bookings.length>0){
document.getElementById('bookingsList').innerHTML=bookings.slice(0,5).map(b=>`
<tr>
<td><strong>${b.conf}</strong></td>
<td>${b.name}</td>
<td>${b.car}</td>
<td>${b.pickup}</td>
<td><strong>${b.total} MAD</strong></td>
</tr>
`).join('');

document.getElementById('allBookingsList').innerHTML=bookings.map(b=>`
<tr>
<td>${b.conf}</td>
<td>${b.name}</td>
<td>${b.email}</td>
<td>${b.phone}</td>
<td>${b.car}</td>
<td>${b.pickup} to ${b.return}</td>
<td>${b.total} MAD</td>
</tr>
`).join('')
}
}

async function sendForm(e){
e.preventDefault();
const form=e.target;
const data=new FormData(form);
data.append('_subject','Admin Booking - '+data.get('name'));
data.append('_template','table');
try{
await fetch('https://formsubmit.co/ajax/rafal.carmed5@gmail.com',{method:'POST',body:data});
alert('‚úÖ Form sent to rafal.carmed5@gmail.com');
form.reset()
}catch(error){alert('‚ùå Error sending form')}
}

if(localStorage.getItem('rafalcar_admin')==='true'){
document.getElementById('loginBox').style.display='none';
document.getElementById('adminPanel').style.display='block';
loadData()
}
</script>
</body>
</html>
