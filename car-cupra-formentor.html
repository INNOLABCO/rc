<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cupra Formentor - Rafal Car</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif}.navbar{background:#fff;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.1);position:fixed;width:100%;top:0;z-index:100}.container{max-width:1200px;margin:100px auto 50px;padding:20px}h1{color:#667eea;margin-bottom:30px}.booking-form{background:#fff;padding:40px;border-radius:15px;box-shadow:0 5px 20px rgba(0,0,0,.1);max-width:800px;margin:0 auto}input,select,textarea{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;margin-bottom:15px;font-family:'Inter',sans-serif}.file-box{border:2px dashed #ddd;padding:20px;text-align:center;border-radius:8px;margin-bottom:15px;cursor:pointer}.file-box:hover{border-color:#667eea;background:#f8f9ff}.terms-box{background:#f8f9fa;padding:20px;border-radius:8px;margin:20px 0}button{width:100%;padding:15px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}button:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(102,126,234,.3)}
</style>
</head>
<body>
<div class="navbar"><h2 style="color:#667eea">RAFAL CAR</h2></div>
<div class="container">
<h1>Book Cupra Formentor 2024</h1>
<p style="margin-bottom:30px">Daily Rate: <strong>500 MAD</strong> | Deposit: <strong>10000 MAD</strong></p>
<form class="booking-form" id="bookingForm">
<h3 style="margin-bottom:20px">Booking Details</h3>
<input type="text" name="full_name" placeholder="Full Name *" required>
<input type="email" name="email" placeholder="Email *" required>
<input type="tel" name="phone" placeholder="Phone *" required>
<input type="tel" name="whatsapp" placeholder="WhatsApp (optional)">
<input type="date" name="pickup_date" required>
<input type="date" name="return_date" required>
<select name="pickup_location" required>
<option value="">Pickup Location *</option>
<option>Casablanca</option><option>Casablanca Airport</option><option>Marrakech</option><option>Marrakech Airport</option><option>Rabat</option><option>Fes</option><option>Tangier</option><option>Agadir</option>
</select>
<select name="return_location" required>
<option value="">Return Location *</option>
<option>Casablanca</option><option>Casablanca Airport</option><option>Marrakech</option><option>Marrakech Airport</option><option>Rabat</option><option>Fes</option><option>Tangier</option><option>Agadir</option>
</select>
<div class="file-box" onclick="document.getElementById('id').click()">üìÑ Upload ID/Passport (Optional)<div id="idName" style="margin-top:10px;color:green"></div></div>
<input type="file" id="id" accept=".pdf,.jpg,.jpeg,.png" style="display:none" onchange="showFile(this,'idName')">
<div class="file-box" onclick="document.getElementById('license').click()">üìÑ Upload Driver's License (Optional)<div id="licenseName" style="margin-top:10px;color:green"></div></div>
<input type="file" id="license" accept=".pdf,.jpg,.jpeg,.png" style="display:none" onchange="showFile(this,'licenseName')">
<textarea name="notes" placeholder="Additional Notes" rows="3"></textarea>
<div class="terms-box">
<label style="display:flex;gap:10px;cursor:pointer">
<input type="checkbox" id="terms" required style="width:20px">
<span>I agree to the <a href="terms.html" target="_blank">Terms & Conditions</a>, <a href="privacy.html" target="_blank">Privacy Policy</a>, and <a href="rental-agreement.html" target="_blank">Rental Agreement</a> *</span>
</label>
</div>
<button type="submit">Complete Booking</button>
</form>
<div style="text-align:center;margin-top:30px">
<p>üìß <strong>rafal.carmed5@gmail.com</strong></p>
<p>üìû <strong>+212 662 186 949</strong></p>
</div>
</div>
<script>
const today=new Date().toISOString().split('T')[0];
document.querySelector('[name="pickup_date"]').min=today;
document.querySelector('[name="return_date"]').min=today;
function showFile(input,id){const file=input.files[0];if(file){if(file.size>5*1024*1024){alert('File must be less than 5MB');input.value='';return}document.getElementById(id).textContent='‚úÖ '+file.name}}
document.getElementById('bookingForm').addEventListener('submit',async function(e){
e.preventDefault();
if(!document.getElementById('terms').checked){alert('‚ö†Ô∏è You must agree to Terms & Conditions');return}
const formData=new FormData(this);
const pickup=new Date(formData.get('pickup_date'));
const returnDate=new Date(formData.get('return_date'));
const days=Math.ceil((returnDate-pickup)/(1000*60*60*24));
const total=days*500;
const conf='RC'+Date.now().toString().slice(-8);
formData.append('_subject','Booking '+conf+' - Cupra Formentor');
formData.append('_template','table');
formData.append('confirmation',conf);
formData.append('car','Cupra Formentor');
formData.append('days',days);
formData.append('total',total+' MAD');
formData.append('deposit','10000 MAD');
const idFile=document.getElementById('id').files[0];
const licenseFile=document.getElementById('license').files[0];
if(idFile)formData.append('id_document',idFile);
if(licenseFile)formData.append('license_document',licenseFile);
const booking={conf:conf,name:formData.get('full_name'),email:formData.get('email'),phone:formData.get('phone'),car:'Cupra Formentor',pickup:formData.get('pickup_date'),return:formData.get('return_date'),total:total,status:'pending'};
const bookings=JSON.parse(localStorage.getItem('rafalcar_bookings')||'[]');
bookings.push(booking);
localStorage.setItem('rafalcar_bookings',JSON.stringify(bookings));
localStorage.setItem('current_booking',JSON.stringify(booking));
try{
const response=await fetch('https://formsubmit.co/ajax/rafal.carmed5@gmail.com',{method:'POST',body:formData});
if(response.ok){window.location.href='booking-confirmed.html'}else{throw new Error()}
}catch(error){
const msg=`Booking ${conf}\nCar: Cupra Formentor\nName: ${booking.name}\nPhone: ${booking.phone}\nDates: ${booking.pickup} to ${booking.return}\nTotal: ${total} MAD`;
window.open(`https://wa.me/212662186949?text=${encodeURIComponent(msg)}`,'_blank');
window.location.href='booking-confirmed.html'}
});
</script>
</body>
</html>